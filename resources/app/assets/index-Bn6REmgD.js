const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D4TZHZhI.js","assets/vendor-react-Gj0PPTzM.js","assets/vendor-misc-CPs7ArQ_.js","assets/notificationStore-D2EvFRZ9.js","assets/vendor-state-Jewp0_hO.js","assets/icons-CSMXKUV2.js","assets/Timer-Dxr1fVY-.js","assets/mindfulnessStore-BwCctBeq.js","assets/taskStore-LwOSsDkH.js","assets/utils-BeLtu-UY.js","assets/categoryStore-DGwHaERV.js","assets/Tasks-DF9PgFV-.js","assets/Analytics-HQQf0lki.js","assets/charts-KMioQ2Xn.js","assets/Habits-DukPGCrA.js","assets/Categories-YC5rCjhp.js","assets/Settings-C3iGvT6a.js","assets/vendor-router-DTH6q8v2.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,c as r,R as a}from"./vendor-react-Gj0PPTzM.js";import{N as s,B as n,R as i,a as o}from"./vendor-router-DTH6q8v2.js";import{ap as l}from"./vendor-misc-CPs7ArQ_.js";import{c,p as d}from"./vendor-state-Jewp0_hO.js";import{T as m,a as x,b as g,B as u,C as h,c as y,Z as p,d as b,e as f,f as k,H as j,X as v,P as N,g as w,h as S,i as C,F as T,j as L,k as I,l as _,m as E,S as A}from"./icons-CSMXKUV2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P={},D=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=e?.nonce||e?.getAttribute("nonce");a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in P)return;P[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},G=c()(d((e,t)=>({isCompleted:!0,currentStep:0,totalSteps:6,preferences:{primaryGoal:"deep_work",workStyle:"focused_blocks",preferredSessionLength:25,dailyGoal:120,weeklyGoal:600,categories:[],notifications:{sessionComplete:!0,breakReminders:!0,dailyReview:!0}},setCurrentStep:r=>{e({currentStep:Math.max(0,Math.min(r,t().totalSteps))})},updatePreferences:t=>{e(e=>({preferences:{...e.preferences,...t}}))},completeOnboarding:()=>{e({isCompleted:!0,currentStep:t().totalSteps})},resetOnboarding:()=>{e({isCompleted:!1,currentStep:0,preferences:{primaryGoal:"deep_work",workStyle:"focused_blocks",preferredSessionLength:25,dailyGoal:120,weeklyGoal:600,categories:[],notifications:{sessionComplete:!0,breakReminders:!0,dailyReview:!0}}})},skipOnboarding:()=>{e({isCompleted:!0,currentStep:t().totalSteps})}}),{name:"onboarding-storage",version:1})),$=({onNext:r})=>{const{updatePreferences:a}=G(),[s,n]=e.useState(""),i=[{icon:m,title:"Focus Sessions",description:"Track deep work with customizable timers and session types"},{icon:x,title:"Task Management",description:"Organize tasks by categories and track time spent on each"},{icon:g,title:"Habit Building",description:"Build consistency with daily streaks and weekly goals"},{icon:u,title:"Analytics",description:"Gain insights into your productivity patterns and progress"}];return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(m,{className:"w-8 h-8 text-primary-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Welcome to Local Task Tracker"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"A privacy-focused productivity app that helps you build better focus habits through time tracking, task management, and mindful work practices."})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map((e,r)=>{const a=e.icon;return t.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(a,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:e.title}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.description})]})]})},r)})}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What should we call you? (Optional)"}),t.jsx("input",{type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg \r\n                     bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\r\n                     focus:ring-2 focus:ring-primary-500 focus:border-primary-500\r\n                     placeholder-gray-400 dark:placeholder-gray-500",maxLength:50})]})}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:"ðŸ”’"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Your Privacy Matters"}),t.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"All your data stays on your device. No cloud sync, no tracking, no data collection."})]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>{s.trim()&&a({name:s.trim()}),r()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium",children:"Get Started"})})]})},M=({onNext:r,onPrevious:a})=>{const{preferences:s,updatePreferences:n}=G(),[i,o]=e.useState(s.primaryGoal),[l,c]=e.useState(s.dailyGoal),[d,m]=e.useState(s.weeklyGoal),u=[{id:"deep_work",icon:x,title:"Deep Work Focus",description:"Long, uninterrupted sessions for complex tasks",color:"blue"},{id:"task_completion",icon:h,title:"Task Completion",description:"Getting things done efficiently with time tracking",color:"green"},{id:"habit_building",icon:g,title:"Habit Building",description:"Building consistent daily and weekly routines",color:"purple"},{id:"time_tracking",icon:y,title:"Time Awareness",description:"Understanding where your time goes",color:"orange"}],p=e=>{const t=Math.floor(e/60),r=e%60;return 0===t?`${r}m`:0===r?`${t}h`:`${t}h ${r}m`};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"What's your primary productivity goal?"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us customize your experience and provide relevant insights."})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map(e=>{const r=e.icon,a=i===e.id;return t.jsx("button",{onClick:()=>o(e.id),className:"p-4 rounded-lg border-2 text-left transition-all "+(a?`border-${e.color}-500 bg-${e.color}-50 dark:bg-${e.color}-900/20`:"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+(a?`bg-${e.color}-100 dark:bg-${e.color}-800`:"bg-gray-100 dark:bg-gray-800"),children:t.jsx(r,{className:"w-4 h-4 "+(a?`text-${e.color}-600 dark:text-${e.color}-400`:"text-gray-600 dark:text-gray-400")})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-sm "+(a?"text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300"),children:e.title}),t.jsx("p",{className:"text-xs mt-1 "+(a?"text-gray-600 dark:text-gray-400":"text-gray-500 dark:text-gray-500"),children:e.description})]})]})},e.id)})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Set your time goals"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Daily Focus Goal"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"range",min:"30",max:"480",step:"15",value:l,onChange:e=>c(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\r\n                         slider:bg-primary-600 slider:rounded-lg"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[t.jsx("span",{children:"30m"}),t.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:p(l)}),t.jsx("span",{children:"8h"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weekly Focus Goal"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"range",min:"120",max:"2400",step:"60",value:d,onChange:e=>m(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[t.jsx("span",{children:"2h"}),t.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:p(d)}),t.jsx("span",{children:"40h"})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Goals Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Daily:"}),t.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-gray-100",children:p(l)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weekly:"}),t.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-gray-100",children:p(d)})]})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"You can adjust these goals anytime in settings."})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 \r\n                   transition-colors",children:"Previous"}),t.jsx("button",{onClick:()=>{n({primaryGoal:i,dailyGoal:l,weeklyGoal:d}),r()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium",children:"Continue"})]})]})},B=({onNext:r,onPrevious:a})=>{const{preferences:s,updatePreferences:n}=G(),[i,o]=e.useState(s.workStyle),[l,c]=e.useState(s.preferredSessionLength),d=[{id:"focused_blocks",icon:h,title:"Focused Blocks",description:"Long, uninterrupted sessions (25-90 minutes)",recommended:"Best for deep work and complex tasks",color:"blue"},{id:"flexible",icon:p,title:"Flexible Sessions",description:"Variable length sessions based on task needs",recommended:"Great for mixed workloads and creativity",color:"green"},{id:"structured",icon:y,title:"Structured Schedule",description:"Fixed time blocks with regular breaks",recommended:"Perfect for routine work and consistency",color:"purple"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"How do you prefer to work?"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose the work style that matches your natural rhythm and preferences."})]}),t.jsx("div",{className:"space-y-3",children:d.map(e=>{const r=e.icon,a=i===e.id;return t.jsx("button",{onClick:()=>o(e.id),className:"w-full p-4 rounded-lg border-2 text-left transition-all "+(a?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+(a?"bg-primary-100 dark:bg-primary-800":"bg-gray-100 dark:bg-gray-800"),children:t.jsx(r,{className:"w-5 h-5 "+(a?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400")})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium "+(a?"text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300"),children:e.title}),t.jsx("p",{className:"text-sm mt-1 "+(a?"text-gray-600 dark:text-gray-400":"text-gray-500 dark:text-gray-500"),children:e.description}),t.jsx("p",{className:"text-xs mt-2 "+(a?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500"),children:e.recommended})]})]})},e.id)})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Preferred session length"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[{value:15,label:"15 min",description:"Quick tasks"},{value:25,label:"25 min",description:"Classic Pomodoro"},{value:45,label:"45 min",description:"Medium focus"},{value:60,label:"60 min",description:"Deep work"},{value:90,label:"90 min",description:"Extended focus"}].map(e=>{const r=l===e.value;return t.jsxs("button",{onClick:()=>c(e.value),className:"p-3 rounded-lg border-2 text-center transition-all "+(r?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[t.jsx("div",{className:"font-medium text-sm "+(r?"text-primary-600 dark:text-primary-400":"text-gray-900 dark:text-gray-100"),children:e.label}),t.jsx("div",{className:"text-xs mt-1 "+(r?"text-primary-500 dark:text-primary-500":"text-gray-500 dark:text-gray-400"),children:e.description})]},e.value)})})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Your Work Style"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Style:"})," ",d.find(e=>e.id===i)?.title]}),t.jsxs("p",{className:"mt-1",children:[t.jsx("span",{className:"font-medium",children:"Default session:"})," ",l," minutes"]})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"You can always change session lengths when starting a timer."})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 \r\n                   transition-colors",children:"Previous"}),t.jsx("button",{onClick:()=>{n({workStyle:i,preferredSessionLength:l}),r()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium",children:"Continue"})]})]})},z=({onNext:r,onPrevious:a})=>{const{preferences:s,updatePreferences:n}=G(),[i,o]=e.useState(s.categories.length>0?s.categories:[{name:"Deep Work",color:"#3B82F6",icon:"Target",weeklyGoal:300},{name:"Learning",color:"#10B981",icon:"BookOpen",weeklyGoal:180}]),l=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"],c=[{name:"Target",icon:x},{name:"BookOpen",icon:b},{name:"Code",icon:f},{name:"Briefcase",icon:k},{name:"Heart",icon:j},{name:"Zap",icon:p}],d=(e,t)=>{o(i.map((r,a)=>a===e?{...r,...t}:r))},m=e=>{const t=Math.floor(e/60),r=e%60;return 0===t?`${r}m`:0===r?`${t}h`:`${t}h ${r}m`};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Set up your categories"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Organize your work into categories to track time and set goals for different areas."})]}),t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:i.map((e,r)=>{const a=c.find(t=>t.name===e.icon)?.icon||x;return t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:e.color+"20"},children:t.jsx(a,{className:"w-4 h-4",style:{color:e.color}})}),t.jsx("div",{className:"flex space-x-1",children:l.slice(0,5).map(a=>t.jsx("button",{onClick:()=>d(r,{color:a}),className:"w-4 h-4 rounded-full border-2 "+(e.color===a?"border-gray-400 dark:border-gray-300":"border-transparent"),style:{backgroundColor:a}},a))})]}),t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"text",value:e.name,onChange:e=>d(r,{name:e.target.value}),placeholder:"Category name",className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 \r\n                               rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\r\n                               focus:ring-1 focus:ring-primary-500 focus:border-primary-500",maxLength:30}),t.jsx("select",{value:e.icon,onChange:e=>d(r,{icon:e.target.value}),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 \r\n                               rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\r\n                               focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:c.map(e=>t.jsx("option",{value:e.name,children:e.name},e.name))})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 min-w-0 flex-shrink-0",children:"Weekly goal:"}),t.jsx("input",{type:"range",min:"30",max:"600",step:"30",value:e.weeklyGoal,onChange:e=>d(r,{weeklyGoal:parseInt(e.target.value)}),className:"flex-1 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),t.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 min-w-0 flex-shrink-0",children:m(e.weeklyGoal)})]})]}),i.length>1&&t.jsx("button",{onClick:()=>(e=>{i.length>1&&o(i.filter((t,r)=>r!==e))})(r),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:t.jsx(v,{className:"w-4 h-4"})})]})},r)})}),i.length<8&&t.jsxs("button",{onClick:()=>{if(i.length<8){const e={name:"",color:l[i.length%l.length],icon:"Target",weeklyGoal:120};o([...i,e])}},className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 \r\n                   rounded-lg text-gray-600 dark:text-gray-400 hover:border-primary-400 \r\n                   hover:text-primary-600 dark:hover:text-primary-400 transition-colors\r\n                   flex items-center justify-center space-x-2",children:[t.jsx(N,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"Add Category"})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Categories Summary"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:i.filter(e=>e.name.trim()).length})," categories"]}),t.jsxs("p",{className:"mt-1",children:[t.jsx("span",{className:"font-medium",children:"Total weekly goal:"})," "," ",m(i.reduce((e,t)=>e+t.weeklyGoal,0))]})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"You can add, edit, or remove categories anytime in the app."})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 \r\n                   transition-colors",children:"Previous"}),t.jsx("button",{onClick:()=>{const e=i.filter(e=>""!==e.name.trim());n({categories:e}),r()},disabled:0===i.filter(e=>e.name.trim()).length,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]})]})},R=({onNext:r,onPrevious:a})=>{const{preferences:s,updatePreferences:n}=G(),[i,o]=e.useState(s.notifications),l=[{id:"sessionComplete",icon:h,title:"Session Completion",description:"Get notified when your focus sessions end",recommended:!0},{id:"breakReminders",icon:w,title:"Break Reminders",description:"Smart suggestions for when to take breaks",recommended:!0},{id:"dailyReview",icon:y,title:"Daily Review",description:"End-of-day reflection and planning prompts",recommended:!1}],c=Object.values(i).filter(Boolean).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Notification preferences"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose which notifications help you stay focused and productive."})]}),t.jsx("div",{className:"space-y-3",children:l.map(e=>{const r=e.icon,a=i[e.id];return t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+(a?"bg-primary-100 dark:bg-primary-800":"bg-gray-100 dark:bg-gray-800"),children:t.jsx(r,{className:"w-5 h-5 "+(a?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400")})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),e.recommended&&t.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 dark:bg-green-900 \r\n                                     text-green-700 dark:text-green-300 rounded-full",children:"Recommended"})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:()=>{return t=e.id,void o(e=>({...e,[t]:!e[t]}));var t},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 \r\n                                peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 \r\n                                rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full \r\n                                peer-checked:after:border-white after:content-[''] after:absolute \r\n                                after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 \r\n                                after:border after:rounded-full after:h-5 after:w-5 after:transition-all \r\n                                dark:border-gray-600 peer-checked:bg-primary-600"})]})]})},e.id)})}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",children:c>0?t.jsx(w,{className:"w-5 h-5"}):t.jsx(S,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:c>0?"Notifications Enabled":"All Notifications Disabled"}),t.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:c>0?`You'll receive ${c} type${c>1?"s":""} of notifications to help you stay focused.`:"You can enable notifications later in settings if you change your mind."})]})]})}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"What's next?"}),t.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[t.jsx("li",{children:"â€¢ Fine-tune notification timing and sounds in settings"}),t.jsx("li",{children:"â€¢ Set up focus mode to minimize distractions"}),t.jsx("li",{children:"â€¢ Configure break reminder frequency"}),t.jsx("li",{children:"â€¢ Customize daily review questions"})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 \r\n                   transition-colors",children:"Previous"}),t.jsx("button",{onClick:()=>{n({notifications:i}),r()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium",children:"Continue"})]})]})},O=({onComplete:e})=>{const{preferences:r}=G(),a=e=>{const t=Math.floor(e/60),r=e%60;return 0===t?`${r}m`:0===r?`${t}h`:`${t}h ${r}m`},s=Object.entries(r.notifications).filter(([e,t])=>t).map(([e,t])=>{switch(e){case"sessionComplete":return"Session completion";case"breakReminders":return"Break reminders";case"dailyReview":return"Daily review";default:return e}});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(C,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:r.name?`Welcome, ${r.name}!`:"You're all set!"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your productivity workspace is ready. Here's what we've set up for you:"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:t.jsx(x,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Your Goals"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[t.jsxs("p",{children:["Primary focus: ",(e=>{switch(e){case"deep_work":return"Deep Work Focus";case"task_completion":return"Task Completion";case"habit_building":return"Habit Building";case"time_tracking":return"Time Awareness";default:return e}})(r.primaryGoal)]}),t.jsxs("p",{children:["Daily goal: ",a(r.dailyGoal)]}),t.jsxs("p",{children:["Weekly goal: ",a(r.weeklyGoal)]})]})]})]})}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:t.jsx(m,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Work Style"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[t.jsxs("p",{children:["Style: ",(e=>{switch(e){case"focused_blocks":return"Focused Blocks";case"flexible":return"Flexible Sessions";case"structured":return"Structured Schedule";default:return e}})(r.workStyle)]}),t.jsxs("p",{children:["Preferred session: ",r.preferredSessionLength," minutes"]})]})]})]})}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:t.jsx(T,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Categories"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[t.jsxs("p",{children:[r.categories.length," categories created"]}),r.categories.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.categories.slice(0,3).map((e,r)=>t.jsx("span",{className:"px-2 py-1 text-xs rounded-full text-white",style:{backgroundColor:e.color},children:e.name},r)),r.categories.length>3&&t.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:["+",r.categories.length-3," more"]})]})]})]})]})}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:t.jsx(w,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Notifications"}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.length>0?t.jsxs("p",{children:["Enabled: ",s.join(", ")]}):t.jsx("p",{children:"All notifications disabled"})})]})]})})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Ready to get started?"}),t.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[t.jsx("li",{children:"â€¢ Start your first focus session from the Timer page"}),t.jsx("li",{children:"â€¢ Create tasks and assign them to your categories"}),t.jsx("li",{children:"â€¢ Track your progress on the Analytics dashboard"}),t.jsx("li",{children:"â€¢ Adjust settings anytime to match your workflow"})]})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx("button",{onClick:e,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 \r\n                   focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 \r\n                   transition-colors font-medium text-lg",children:"Start Using Local Task Tracker"})})]})},F=({currentStep:e,totalSteps:r})=>{const a=["Welcome","Goals","Work Style","Categories","Notifications","Complete"];return t.jsx("div",{className:"flex items-center justify-between",children:a.map((r,s)=>t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors "+(s<e?"bg-primary-600 text-white":s===e?"bg-primary-100 text-primary-600 border-2 border-primary-600":"bg-gray-200 text-gray-500 dark:bg-gray-700 dark:text-gray-400"),children:s<e?t.jsx(L,{className:"w-4 h-4"}):t.jsx("span",{children:s+1})}),t.jsx("span",{className:"ml-2 text-xs font-medium hidden sm:block "+(s<=e?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"),children:r})]}),s<a.length-1&&t.jsx("div",{className:"w-8 sm:w-12 h-0.5 mx-2 transition-colors "+(s<e?"bg-primary-600":"bg-gray-200 dark:bg-gray-700")})]},s))})},W=({onComplete:r,onSkip:a})=>{const{currentStep:s,totalSteps:n,setCurrentStep:i,completeOnboarding:o,skipOnboarding:l,isCompleted:c}=G();e.useEffect(()=>{c&&r()},[c,r]);const d=()=>{s<n-1?i(s+1):o()},m=()=>{s>0&&i(s-1)};return t.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Welcome to Local Task Tracker"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Let's set up your productivity workspace"})]}),a&&t.jsx("button",{onClick:()=>{a&&a(),l()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Skip onboarding",children:t.jsx(v,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900",children:t.jsx(F,{currentStep:s,totalSteps:n})}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(()=>{switch(s){case 0:default:return t.jsx($,{onNext:d});case 1:return t.jsx(M,{onNext:d,onPrevious:m});case 2:return t.jsx(B,{onNext:d,onPrevious:m});case 3:return t.jsx(z,{onNext:d,onPrevious:m});case 4:return t.jsx(R,{onNext:d,onPrevious:m});case 5:return t.jsx(O,{onComplete:()=>o()})}})()})]})})},H=()=>"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",q=e=>{"undefined"!=typeof document&&(e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},Y=c()(d((e,t)=>({mode:"system",fontSize:"medium",compactMode:!1,showSecondsInTimer:!1,dashboardLayout:"default",isDark:!1,setMode:t=>{const r="dark"===t||"system"===t&&"dark"===H();q(r),e({mode:t,isDark:r})},setFontSize:t=>{if(e({fontSize:t}),"undefined"!=typeof document){const e=document.documentElement;switch(e.classList.remove("text-sm","text-base","text-lg"),t){case"small":e.classList.add("text-sm");break;case"medium":e.classList.add("text-base");break;case"large":e.classList.add("text-lg")}}},setCompactMode:t=>{e({compactMode:t}),"undefined"!=typeof document&&(t?document.documentElement.classList.add("compact-mode"):document.documentElement.classList.remove("compact-mode"))},setShowSecondsInTimer:t=>{e({showSecondsInTimer:t})},setDashboardLayout:t=>{e({dashboardLayout:t})},toggleTheme:()=>{const{mode:e}=t(),r="light"===e?"dark":"dark"===e?"system":"light";t().setMode(r)},initializeTheme:()=>{const{mode:r}=t(),a="dark"===r||"system"===r&&"dark"===H();if(q(a),e({isDark:a}),"undefined"!=typeof window&&window.matchMedia){const r=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{const{mode:a}=t();if("system"===a){const t=r.matches;q(t),e({isDark:t})}};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)}}}),{name:"theme-storage",version:1,partialize:e=>({mode:e.mode,fontSize:e.fontSize,compactMode:e.compactMode,showSecondsInTimer:e.showSecondsInTimer,dashboardLayout:e.dashboardLayout})})),V=({children:r})=>{const{isCompleted:a,completeOnboarding:n}=G();(()=>{const t=Y();e.useEffect(()=>{const e=t.initializeTheme();return t.setFontSize(t.fontSize),t.setCompactMode(t.compactMode),e},[])})();const i=[{to:"/",icon:I,label:"Dashboard"},{to:"/timer",icon:m,label:"Timer"},{to:"/tasks",icon:_,label:"Tasks"},{to:"/categories",icon:T,label:"Categories"},{to:"/analytics",icon:u,label:"Analytics"},{to:"/habits",icon:E,label:"Habits"},{to:"/settings",icon:A,label:"Settings"}],o=()=>{n()};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex h-screen bg-neutral-25",children:[t.jsxs("div",{className:"w-60 bg-white border-r border-neutral-200 flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-neutral-100",children:[t.jsx("h1",{className:"text-lg font-semibold text-neutral-900 tracking-tight",children:"Task Tracker"}),t.jsx("p",{className:"text-xs text-neutral-500 mt-0.5",children:"Local Productivity App"})]}),t.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:i.map(({to:e,icon:r,label:a})=>t.jsxs(s,{to:e,className:({isActive:e})=>"group flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(e?"bg-neutral-100 text-neutral-900":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900 active:scale-[0.98]"),children:[t.jsx(r,{className:`w-4 h-4 mr-3 transition-colors flex-shrink-0 ${({isActive:e})=>e?"text-neutral-700":"text-neutral-400 group-hover:text-neutral-600"}`}),t.jsx("span",{className:"truncate",children:a})]},e))}),t.jsx("div",{className:"p-3 border-t border-neutral-100",children:t.jsx("div",{className:"text-xs text-neutral-400 text-center",children:"v1.0.0"})})]}),t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("main",{className:"p-8 max-w-7xl mx-auto",children:r})})]}),!a&&t.jsx(W,{onComplete:o,onSkip:o})]})},U=e.lazy(()=>D(()=>import("./Dashboard-D4TZHZhI.js"),__vite__mapDeps([0,1,2,3,4,5]))),Z=e.lazy(()=>D(()=>import("./Timer-Dxr1fVY-.js"),__vite__mapDeps([6,1,2,7,4,8,9,5,10]))),K=e.lazy(()=>D(()=>import("./Tasks-DF9PgFV-.js"),__vite__mapDeps([11,1,2,8,4,10,5]))),Q=e.lazy(()=>D(()=>import("./Analytics-HQQf0lki.js"),__vite__mapDeps([12,1,2,4,5,13,9]))),J=e.lazy(()=>D(()=>import("./Habits-DukPGCrA.js"),__vite__mapDeps([14,1,2,4,5,10,13,9]))),X=e.lazy(()=>D(()=>import("./Categories-YC5rCjhp.js"),__vite__mapDeps([15,1,2,10,4,5])).then(e=>({default:e.Categories}))),ee=e.lazy(()=>D(()=>import("./Settings-C3iGvT6a.js"),__vite__mapDeps([16,1,2,5,4,3,7,17])));function te(){return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading..."})]})})}function re(){return t.jsx(n,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(V,{children:t.jsx(e.Suspense,{fallback:t.jsx(te,{}),children:t.jsxs(i,{children:[t.jsx(o,{path:"/",element:t.jsx(U,{})}),t.jsx(o,{path:"/timer",element:t.jsx(Z,{})}),t.jsx(o,{path:"/tasks",element:t.jsx(K,{})}),t.jsx(o,{path:"/categories",element:t.jsx(X,{})}),t.jsx(o,{path:"/analytics",element:t.jsx(Q,{})}),t.jsx(o,{path:"/habits",element:t.jsx(J,{})}),t.jsx(o,{path:"/settings",element:t.jsx(ee,{})})]})})}),t.jsx(l,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",boxShadow:"0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}}})]})})}class ae{static instance;channel;instanceId;isActive=!1;heartbeatInterval=null;constructor(){this.instanceId=`task-tracker-${Date.now()}-${Math.random()}`,this.channel=new BroadcastChannel("task-tracker-instances"),this.setupMessageHandling()}static getInstance(){return ae.instance||(ae.instance=new ae),ae.instance}async checkAndActivate(){const e=localStorage.getItem("task-tracker-active-instance"),t=localStorage.getItem("task-tracker-last-heartbeat");if(e&&t){if(Date.now()-parseInt(t)<1e4)return this.showDuplicateTabWarning(),!1}return this.becomeActiveInstance(),!0}becomeActiveInstance(){this.isActive=!0,localStorage.setItem("task-tracker-active-instance",this.instanceId),this.updateHeartbeat(),this.heartbeatInterval=setInterval(()=>{this.updateHeartbeat()},5e3),this.channel.postMessage({type:"instance-activated",instanceId:this.instanceId,timestamp:Date.now()})}updateHeartbeat(){localStorage.setItem("task-tracker-last-heartbeat",Date.now().toString())}setupMessageHandling(){this.channel.addEventListener("message",e=>{const{type:t,instanceId:r}=e.data;switch(t){case"instance-activated":r!==this.instanceId&&this.isActive&&this.deactivate();break;case"ping":this.isActive&&this.channel.postMessage({type:"pong",instanceId:this.instanceId,timestamp:Date.now()});break;case"request-focus":this.isActive&&(window.focus(),"Notification"in window&&"granted"===Notification.permission&&new Notification("Local Task Tracker",{body:"Application is already running in this tab.",icon:"/favicon.ico"}))}}),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.isActive&&this.updateHeartbeat()}),window.addEventListener("beforeunload",()=>{this.cleanup()})}showDuplicateTabWarning(){const e=document.createElement("div");e.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      color: white;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      z-index: 10000;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    ",e.innerHTML='\n      <div style="text-align: center; max-width: 500px; padding: 2rem;">\n        <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Local Task Tracker Already Running</h2>\n        <p style="margin-bottom: 2rem; line-height: 1.5;">\n          Local Task Tracker is already running in another tab. \n          To prevent data conflicts, only one instance can be active at a time.\n        </p>\n        <div style="display: flex; gap: 1rem; justify-content: center;">\n          <button id="focus-existing" style="\n            padding: 0.75rem 1.5rem;\n            background: #3b82f6;\n            color: white;\n            border: none;\n            border-radius: 0.5rem;\n            cursor: pointer;\n            font-size: 1rem;\n          ">Switch to Active Tab</button>\n          <button id="close-tab" style="\n            padding: 0.75rem 1.5rem;\n            background: #6b7280;\n            color: white;\n            border: none;\n            border-radius: 0.5rem;\n            cursor: pointer;\n            font-size: 1rem;\n          ">Close This Tab</button>\n        </div>\n      </div>\n    ',document.body.appendChild(e),e.querySelector("#focus-existing")?.addEventListener("click",()=>{this.channel.postMessage({type:"request-focus",instanceId:this.instanceId,timestamp:Date.now()})}),e.querySelector("#close-tab")?.addEventListener("click",()=>{window.close()})}deactivate(){this.isActive=!1,this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}cleanup(){this.isActive&&(localStorage.removeItem("task-tracker-active-instance"),localStorage.removeItem("task-tracker-last-heartbeat")),this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.channel.close()}isActiveInstance(){return this.isActive}}const se=ae.getInstance(),ne="http://localhost:8765",ie=window.fetch;function oe(){r.createRoot(document.getElementById("root")).render(t.jsx(a.StrictMode,{children:t.jsx(re,{})}))}window.fetch=(e,t)=>{try{if("string"==typeof e){if(e.startsWith("/api"))return ie(`${ne}${e}`,t)}else if(e instanceof Request&&e.url.startsWith("/api")){const r=new Request(`${ne}${new URL(e.url,"http://localhost").pathname}`,e);return ie(r,t)}}catch(r){}return ie(e,t)};try{"function"==typeof window.BroadcastChannel?se.checkAndActivate().then(e=>{e&&oe()}).catch(()=>oe()):oe()}catch{oe()}export{Y as u};
//# sourceMappingURL=index-Bn6REmgD.js.map

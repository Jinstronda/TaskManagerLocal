import{r as e,j as s}from"./vendor-react-Gj0PPTzM.js";import{u as t}from"./notificationStore-D2EvFRZ9.js";import{X as a,n as r,o as n,p as l,b as i,C as c,i as d,A as o,M as x,q as m,c as h}from"./icons-CSMXKUV2.js";import"./vendor-misc-CPs7ArQ_.js";import"./vendor-state-Jewp0_hO.js";const g=({suggestion:t,onAccept:d,onDismiss:o,onSnooze:x,isVisible:m})=>{const[h,g]=e.useState(t.suggestedDuration),[u,p]=e.useState(!1);if(!m)return null;const y=()=>{switch(t.type){case"time_based":return"Time-based";case"pattern_based":return"Pattern-based";case"productivity_based":return"Productivity-based";default:return"Smart"}};return s.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 animate-slide-in-right",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[(()=>{switch(t.type){case"time_based":return s.jsx(c,{className:"w-5 h-5 text-orange-600"});case"pattern_based":return s.jsx(i,{className:"w-5 h-5 text-blue-600"});case"productivity_based":return s.jsx(l,{className:"w-5 h-5 text-green-600"});default:return s.jsx(l,{className:"w-5 h-5 text-gray-600"})}})(),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Time for a Break!"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:y()}),s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full "+(t.confidence>=.8?"text-green-600 bg-green-100":t.confidence>=.6?"text-yellow-600 bg-yellow-100":"text-orange-600 bg-orange-100"),children:[Math.round(100*t.confidence),"% confidence"]})]})]})]}),s.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss suggestion",children:s.jsx(a,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:t.reason}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Sessions completed:"}),s.jsx("span",{className:"font-medium text-gray-900 ml-1",children:t.sessionsSinceLastBreak})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Work time:"}),s.jsxs("span",{className:"font-medium text-gray-900 ml-1",children:[Math.round(t.totalWorkTime)," min"]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Break duration"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"range",min:"5",max:"30",step:"5",value:h,onChange:e=>g(parseInt(e.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem]",children:[h," min"]})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"Quick"}),s.jsx("span",{children:"Standard"}),s.jsx("span",{children:"Long"}),s.jsx("span",{children:"30 min"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>d(h),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[s.jsx(r,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Break"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>p(!u),className:"px-3 py-2 text-gray-600 hover:text-gray-800 transition-colors","aria-label":"More options",children:s.jsx(n,{className:"w-4 h-4"})}),u&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[120px] z-10",children:[s.jsx("button",{onClick:()=>{x(5),p(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Snooze 5 min"}),s.jsx("button",{onClick:()=>{x(10),p(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Snooze 10 min"}),s.jsx("button",{onClick:()=>{x(15),p(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Snooze 15 min"}),s.jsx("hr",{className:"my-1"}),s.jsx("button",{onClick:()=>{o(),p(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Dismiss"})]})]})]}),s.jsx("button",{onClick:()=>p(!u),className:"w-full text-xs text-gray-500 hover:text-gray-700 mt-2 transition-colors",children:u?"Less info":"More info"}),u&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Suggestion type:"})," ",y()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Confidence:"})," ",Math.round(100*t.confidence),"%"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recommended duration:"})," ",t.suggestedDuration," minutes"]}),"pattern_based"===t.type&&s.jsx("p",{className:"text-blue-600",children:"Based on your historical break patterns"}),"productivity_based"===t.type&&s.jsx("p",{className:"text-green-600",children:"Your focus quality may be declining"}),"time_based"===t.type&&s.jsxs("p",{className:"text-orange-600",children:["You've been working for ",Math.round(t.totalWorkTime)," minutes"]})]})})]})})},u=({prompt:t,onSubmit:r,onDismiss:n,onSnooze:l,isVisible:i})=>{const[g,u]=e.useState(0),[p,y]=e.useState({}),[j,b]=e.useState(!1);if(!i)return null;const N=t.questions[g],f=g===t.questions.length-1,v=!N.required||void 0!==p[N.id],w=(e,s)=>{y(t=>({...t,[e]:s}))},k=async()=>{b(!0);try{const e={promptId:`${t.type}_${Date.now()}`,responses:p,completedAt:new Date};await r(e)}catch(e){}finally{b(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(()=>{switch(t.type){case"daily":return s.jsx(h,{className:"w-6 h-6 text-blue-600"});case"weekly":return s.jsx(c,{className:"w-6 h-6 text-purple-600"});case"session_end":return s.jsx(m,{className:"w-6 h-6 text-green-600"});default:return s.jsx(x,{className:"w-6 h-6 text-gray-600"})}})(),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:t.title}),s.jsxs("p",{className:"text-blue-100 text-sm",children:["daily"===t.type&&"Daily Reflection","weekly"===t.type&&"Weekly Review","session_end"===t.type&&"Session Reflection"]})]})]}),s.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close review",children:s.jsx(a,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[s.jsxs("span",{children:["Question ",g+1," of ",t.questions.length]}),s.jsxs("span",{children:[Math.round((g+1)/t.questions.length*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(g+1)/t.questions.length*100+"%"}})})]}),s.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:N.question}),N.required&&s.jsx("p",{className:"text-sm text-red-600 mb-3",children:"* Required"}),(e=>{switch(e.type){case"rating":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Poor"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Excellent"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(t=>s.jsx("button",{onClick:()=>w(e.id,t),className:"w-10 h-10 rounded-full border-2 transition-all "+(p[e.id]===t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:border-blue-400"),children:t},t))})]});case"text":return s.jsx("textarea",{value:p[e.id]||"",onChange:s=>w(e.id,s.target.value),placeholder:"Share your thoughts...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4});case"multiple_choice":return s.jsx("div",{className:"space-y-2",children:e.options?.map((t,a)=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"radio",name:e.id,value:t,checked:p[e.id]===t,onChange:s=>w(e.id,s.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:t})]},a))});case"yes_no":return s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:e.id,value:"yes",checked:"yes"===p[e.id],onChange:s=>w(e.id,s.target.value),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Yes"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:e.id,value:"no",checked:"no"===p[e.id],onChange:s=>w(e.id,s.target.value),className:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"}),s.jsx("span",{className:"text-gray-700",children:"No"})]})]});default:return null}})(N)]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:g>0&&s.jsx("button",{onClick:()=>{g>0&&u(e=>e-1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Previous"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>l(15),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Snooze 15m"}),s.jsx("button",{onClick:()=>{f?k():u(e=>e+1)},disabled:!v||j,className:"px-6 py-2 rounded-lg font-medium transition-all flex items-center space-x-2 "+(v&&!j?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Submitting..."})]}):f?s.jsxs(s.Fragment,{children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{children:"Complete"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Next"}),s.jsx(o,{className:"w-4 h-4"})]})})]})]})})]})})},p=()=>{const{activeBreakSuggestion:a,activeReviewPrompt:r,checkForBreakSuggestion:n}=t();return e.useEffect(()=>{n()},[n]),s.jsxs("div",{className:"space-y-6",children:[a&&s.jsx(g,{}),r&&s.jsx(u,{}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Welcome to your productivity overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Today's Focus Time"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:"0h 0m"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Sessions Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:"0"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Current Streak"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:"0 days"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Focus Score"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-2",children:"0"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Quick Start"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start your first focus session by navigating to the Timer page."})]})]})};export{p as default};
//# sourceMappingURL=Dashboard-D4TZHZhI.js.map
